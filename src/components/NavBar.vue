<template>
  <div class="app-block__main-body-sidebar header-side-bar" v-show="showSideBar && showNavSideBar">
    <div class="backdrop-header" v-if="globalBlur"></div>
    <div class="harp-logo">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="45pt" height="45pt" viewBox="0 0 45 45" version="1.1">
        <g id="surface1">
          <path :fill="logoColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 19.191406 0.664062 C 13.214844 1.964844 8.546875 5.964844 6.394531 11.664062 C 5.773438 13.273438 5.316406 15.8125 5.316406 17.570312 C 5.316406 21.554688 6.96875 25.941406 9.523438 28.773438 C 10.6875 30.042969 12.179688 30.515625 14.410156 30.28125 C 15.929688 30.132812 16.949219 29.660156 18.101562 28.597656 C 20.035156 26.8125 20.625 24.539062 19.769531 22.203125 C 19.296875 20.964844 18.351562 20.285156 16.875 20.136719 C 15.636719 20.003906 14.378906 20.359375 12.328125 21.421875 C 10.808594 22.203125 10.644531 22.324219 11.160156 22.265625 C 11.5 22.21875 12.460938 21.894531 13.300781 21.554688 C 14.691406 20.992188 14.925781 20.949219 15.8125 21.007812 C 16.890625 21.082031 17.316406 21.304688 17.878906 22.132812 C 18.144531 22.515625 18.234375 22.839844 18.234375 23.460938 C 18.234375 25.734375 15.605469 28.40625 12.476562 29.304688 L 11.589844 29.570312 L 10.480469 28.390625 C 8.738281 26.53125 7.5 24.226562 6.792969 21.527344 C 6.289062 19.636719 6.214844 16.371094 6.644531 14.335938 C 7.957031 7.898438 12.917969 2.9375 19.355469 1.625 C 20.65625 1.34375 21.230469 1.3125 23.105469 1.371094 C 25.511719 1.445312 26.886719 1.726562 28.820312 2.523438 C 29.925781 2.980469 32.183594 4.265625 32.183594 4.445312 C 32.183594 4.578125 30.902344 4.695312 27.238281 4.886719 C 25.703125 4.960938 24.167969 5.0625 23.84375 5.109375 L 23.253906 5.195312 L 24.109375 4.429688 C 24.980469 3.632812 26.132812 2.214844 26.132812 1.917969 C 26.132812 1.832031 25.910156 1.917969 25.660156 2.109375 C 25.011719 2.597656 23.578125 3.410156 20.742188 4.917969 C 18.367188 6.171875 14.824219 8.328125 13.257812 9.449219 C 11.855469 10.453125 10.421875 12.3125 9.816406 13.921875 C 9.40625 15.042969 9.183594 16.59375 9.433594 16.742188 C 9.550781 16.816406 9.359375 17.125 8.917969 17.613281 C 8.195312 18.410156 7.441406 19.796875 7.292969 20.625 C 7.011719 22.085938 8.179688 23.519531 9.921875 23.871094 L 10.410156 23.960938 L 9.996094 23.488281 C 9.714844 23.148438 9.597656 22.839844 9.597656 22.457031 C 9.597656 21.6875 9.9375 21.40625 10.882812 21.40625 C 11.546875 21.40625 11.691406 21.347656 12.136719 20.90625 C 12.59375 20.449219 13.433594 20.078125 14.054688 20.078125 C 14.542969 20.078125 16.652344 19.339844 17.007812 19.046875 L 17.347656 18.75 L 16.726562 18.957031 C 16.386719 19.074219 15.324219 19.355469 14.363281 19.5625 C 12.238281 20.050781 11.691406 20.257812 11.53125 20.714844 C 11.398438 21.039062 11.324219 21.054688 10.601562 20.992188 C 9.921875 20.949219 9.773438 20.980469 9.417969 21.320312 C 9.09375 21.613281 9.007812 21.820312 9.007812 22.308594 L 9.007812 22.929688 L 8.652344 22.601562 C 8.207031 22.191406 7.824219 21.40625 7.824219 20.933594 C 7.839844 20.449219 8.414062 19.105469 9.007812 18.1875 C 9.492188 17.464844 9.890625 17.199219 9.890625 17.613281 C 9.890625 18.085938 10.761719 18.648438 12.03125 18.972656 C 13.300781 19.296875 13.523438 19.117188 12.285156 18.765625 C 11.160156 18.441406 10.144531 17.183594 10.4375 16.445312 C 10.480469 16.328125 10.4375 16.238281 10.347656 16.238281 C 10.097656 16.238281 10.15625 15 10.4375 14.292969 C 10.851562 13.257812 11.679688 11.929688 12.386719 11.160156 C 13.375 10.113281 14.617188 9.285156 16.816406 8.207031 C 20.109375 6.613281 23.296875 5.714844 25.542969 5.773438 L 26.207031 5.789062 L 25.246094 5.992188 C 22.425781 6.613281 20.152344 7.265625 19.179688 7.734375 C 18.5 8.074219 18.246094 8.238281 18.527344 8.195312 C 22.21875 7.589844 23.121094 7.5 25.6875 7.484375 C 28.082031 7.46875 28.582031 7.515625 29.75 7.808594 C 32.96875 8.636719 35.375 9.921875 38.0625 12.238281 C 39.449219 13.449219 39.464844 13.421875 38.621094 11.28125 C 35.566406 3.527344 27.164062 -1.0625 19.191406 0.664062 Z M 33.382812 5.402344 C 34.179688 6.113281 35.726562 7.824219 35.726562 8.003906 C 35.726562 8.046875 35.476562 7.972656 35.183594 7.824219 C 34.253906 7.382812 31.359375 6.628906 30.101562 6.496094 C 29.453125 6.4375 28.894531 6.347656 28.847656 6.304688 C 28.804688 6.261719 28.996094 6.15625 29.261719 6.066406 C 29.527344 5.980469 30.355469 5.640625 31.078125 5.328125 C 31.816406 5.003906 32.449219 4.738281 32.511719 4.738281 C 32.570312 4.722656 32.96875 5.035156 33.382812 5.402344 Z M 33.382812 5.402344 "/>
          <path :fill="logoColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 21.40625 8.992188 C 21.054688 9.050781 21.585938 9.125 23.03125 9.199219 C 27.179688 9.40625 29.765625 9.9375 32.109375 11.058594 C 34.53125 12.222656 36.320312 13.539062 37.882812 15.339844 L 38.828125 16.445312 L 38.828125 17.820312 C 38.828125 18.574219 38.785156 19.191406 38.738281 19.191406 C 38.695312 19.191406 38.328125 18.914062 37.941406 18.558594 C 37.070312 17.761719 34.546875 16.492188 33.070312 16.09375 C 30.308594 15.355469 26.605469 15.148438 23.933594 15.574219 C 22.5 15.8125 19.472656 16.445312 18.675781 16.667969 C 17.863281 16.90625 20.035156 16.84375 21.71875 16.59375 C 23.59375 16.3125 26.617188 16.386719 28.050781 16.773438 C 30.605469 17.4375 33.484375 19.058594 35.359375 20.890625 C 36.363281 21.863281 36.6875 22.308594 37.265625 23.460938 C 37.632812 24.210938 37.941406 24.9375 37.941406 25.082031 C 37.957031 25.4375 38.445312 24.449219 38.871094 23.179688 C 39.507812 21.304688 39.714844 19.960938 39.714844 17.65625 L 39.714844 15.53125 L 38.503906 14.425781 C 35.59375 11.796875 32.65625 10.011719 30.042969 9.285156 C 28.996094 8.992188 28.464844 8.945312 25.394531 8.917969 C 23.488281 8.902344 21.6875 8.933594 21.40625 8.992188 Z M 21.40625 8.992188 "/>
          <path :fill="logoColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 22.441406 13.316406 C 21.835938 13.539062 21.007812 13.640625 19.265625 13.730469 C 17.96875 13.804688 16.402344 13.964844 15.796875 14.097656 C 13.996094 14.511719 12.695312 15.308594 12.695312 16.003906 C 12.695312 16.285156 12.695312 16.285156 12.902344 16.019531 C 13.125 15.707031 13.421875 15.738281 16.09375 16.3125 C 17.847656 16.699219 18.601562 16.371094 18.601562 15.234375 C 18.601562 14.96875 18.691406 14.734375 18.792969 14.703125 C 18.882812 14.675781 19.503906 14.558594 20.152344 14.425781 C 21.527344 14.160156 22.882812 13.6875 23.355469 13.289062 C 23.785156 12.917969 23.519531 12.933594 22.441406 13.316406 Z M 17.835938 15.414062 C 17.9375 16.253906 17.109375 16.519531 16.699219 15.769531 C 16.445312 15.324219 16.566406 15.074219 16.890625 15.339844 C 17.15625 15.5625 17.421875 15.441406 17.421875 15.117188 C 17.421875 14.71875 17.789062 14.984375 17.835938 15.414062 Z M 17.835938 15.414062 "/>
          <path :fill="logoColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 19.785156 17.789062 C 19.785156 17.847656 20.964844 18.453125 22.410156 19.132812 C 23.84375 19.828125 25.421875 20.59375 25.910156 20.847656 C 28.375 22.132812 30.886719 24.285156 31.625 25.761719 C 32.097656 26.707031 32.480469 28.375 32.480469 29.511719 C 32.480469 30.53125 32.378906 30.679688 30.960938 31.519531 L 30.089844 32.050781 L 28.996094 31.371094 C 27.152344 30.222656 26.339844 29.097656 24.125 24.742188 C 22.398438 21.347656 21.554688 20.640625 18.648438 20.167969 C 18.027344 20.0625 18.011719 20.300781 18.617188 20.507812 C 20.136719 21.039062 21.863281 22.867188 23.121094 25.320312 C 24.921875 28.789062 26.632812 30.664062 29.085938 31.800781 L 29.867188 32.171875 L 29.292969 32.40625 C 26.988281 33.394531 24.964844 33.808594 22.351562 33.808594 C 20.949219 33.808594 20.523438 33.765625 20.523438 33.617188 C 20.523438 33.515625 20.726562 33.101562 20.992188 32.6875 C 21.246094 32.289062 21.6875 31.476562 21.96875 30.871094 C 22.882812 28.953125 22.765625 26.679688 21.6875 25.527344 C 21.199219 25.011719 20.964844 25.023438 21.320312 25.570312 C 21.996094 26.632812 21.925781 28.554688 21.113281 30.222656 C 20.609375 31.269531 19.472656 32.835938 18.972656 33.160156 C 18.632812 33.382812 18.542969 33.382812 17.613281 33.070312 C 16.433594 32.703125 14.835938 31.949219 13.804688 31.269531 C 13.40625 31.003906 12.5625 30.648438 11.957031 30.472656 L 10.851562 30.148438 L 11.515625 30.738281 C 13.109375 32.183594 15.695312 33.542969 18.101562 34.207031 C 19.472656 34.589844 19.738281 34.621094 22.589844 34.621094 C 25.4375 34.621094 25.703125 34.589844 27.089844 34.207031 C 29.96875 33.410156 32.820312 31.710938 34.8125 29.632812 L 35.726562 28.671875 L 35.726562 27.578125 C 35.726562 25.421875 35.035156 23.859375 33.335938 22.191406 C 32.230469 21.082031 31.933594 20.875 30.8125 20.34375 C 29.484375 19.710938 27.726562 19.238281 25.46875 18.914062 C 23.738281 18.648438 21.097656 18.101562 20.050781 17.777344 C 19.902344 17.730469 19.785156 17.746094 19.785156 17.789062 Z M 19.785156 17.789062 "/>
          <path :fill="logoColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 12.550781 18.308594 C 12.992188 18.46875 13.375 18.585938 13.40625 18.601562 C 13.421875 18.601562 13.375 18.46875 13.289062 18.308594 C 13.167969 18.070312 12.976562 18.011719 12.429688 18.011719 L 11.738281 18.027344 Z M 12.550781 18.308594 "/>
          <path :fill="logoColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 5.90625 39.9375 L 5.90625 43.996094 L 6.9375 43.996094 L 6.9375 40.601562 L 12.535156 40.601562 L 12.578125 42.253906 L 12.621094 43.921875 L 13.65625 43.921875 L 13.65625 35.949219 L 12.621094 35.949219 L 12.578125 37.675781 L 12.535156 39.417969 L 6.9375 39.417969 L 6.9375 35.875 L 5.90625 35.875 Z M 5.90625 39.9375 "/>
          <path :fill="logoColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 16.3125 36.128906 C 14.910156 36.835938 14.75 37.398438 14.792969 41.042969 L 14.835938 43.921875 L 15.382812 43.964844 L 15.929688 44.011719 L 15.972656 42.859375 L 16.019531 41.707031 L 18.792969 41.664062 L 21.554688 41.632812 L 21.554688 43.996094 L 22.75 43.996094 L 22.707031 40.777344 L 22.664062 37.542969 L 22.25 37.011719 C 21.527344 36.066406 20.90625 35.875 18.691406 35.890625 C 17.273438 35.90625 16.640625 35.964844 16.3125 36.128906 Z M 21.214844 37.53125 C 21.527344 37.808594 21.554688 37.972656 21.554688 39.226562 L 21.554688 40.601562 L 18.792969 40.570312 L 16.019531 40.527344 L 15.972656 39.210938 C 15.929688 38.03125 15.960938 37.867188 16.253906 37.558594 C 16.578125 37.21875 16.667969 37.203125 18.734375 37.203125 C 20.726562 37.203125 20.890625 37.21875 21.214844 37.53125 Z M 21.214844 37.53125 "/>
          <path :fill="logoColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 23.769531 39.949219 L 23.769531 44.011719 L 24.332031 43.964844 L 24.878906 43.921875 L 24.921875 42.769531 L 24.964844 41.632812 L 28.566406 41.632812 L 29.75 42.816406 C 30.679688 43.761719 31.003906 43.996094 31.300781 43.964844 C 31.566406 43.9375 31.683594 43.820312 31.710938 43.566406 C 31.757812 43.300781 31.566406 43.023438 30.988281 42.429688 L 30.207031 41.632812 L 30.828125 41.117188 C 31.757812 40.320312 32.039062 38.679688 31.460938 37.425781 C 31.167969 36.777344 31.035156 36.644531 30.222656 36.1875 C 29.703125 35.90625 29.4375 35.875 26.722656 35.875 L 23.769531 35.875 Z M 30.25 37.589844 C 30.488281 37.882812 30.5625 38.195312 30.5625 38.84375 C 30.5625 40.496094 30.355469 40.601562 27.238281 40.601562 L 24.949219 40.601562 L 24.949219 37.203125 L 29.957031 37.203125 Z M 30.25 37.589844 "/>
          <path :fill="logoColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 32.777344 39.9375 L 32.777344 43.996094 L 33.792969 43.996094 L 33.839844 42.859375 L 33.882812 41.707031 L 36.539062 41.632812 C 39.550781 41.546875 39.789062 41.472656 40.304688 40.453125 C 40.511719 40.054688 40.601562 39.582031 40.601562 38.917969 C 40.601562 37.441406 40.214844 36.730469 39.09375 36.15625 C 38.605469 35.90625 38.207031 35.875 35.65625 35.875 L 32.777344 35.875 Z M 39.125 37.5 C 39.359375 37.734375 39.417969 37.988281 39.417969 38.886719 C 39.417969 39.90625 39.390625 40.011719 39.019531 40.304688 C 38.652344 40.585938 38.472656 40.601562 36.261719 40.570312 L 33.882812 40.527344 L 33.839844 38.859375 L 33.792969 37.203125 L 36.320312 37.203125 C 38.636719 37.203125 38.859375 37.234375 39.125 37.5 Z M 39.125 37.5 "/>
        </g>
      </svg>
    </div>
  </div>
  <div class="app-block__header-item">
    <div @click="sideBarClick">
      <button class="button__icon-transparent" >
        <svg width="20" height="20" viewbox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M0 2C0 0.895431 0.895431 0 2 0C3.10457 0 4 0.895431 4 2C4 3.10457 3.10457 4 2 4C0.895431 4 0 3.10457 0 2ZM0 10C0 8.89543 0.895431 8 2 8C3.10457 8 4 8.89543 4 10C4 11.1046 3.10457 12 2 12C0.895431 12 0 11.1046 0 10ZM10 0C8.89543 0 8 0.895431 8 2C8 3.10457 8.89543 4 10 4C11.1046 4 12 3.10457 12 2C12 0.895431 11.1046 0 10 0ZM8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12C8.89543 12 8 11.1046 8 10ZM18 0C16.8954 0 16 0.895431 16 2C16 3.10457 16.8954 4 18 4C19.1046 4 20 3.10457 20 2C20 0.895431 19.1046 0 18 0ZM16 10C16 8.89543 16.8954 8 18 8C19.1046 8 20 8.89543 20 10C20 11.1046 19.1046 12 18 12C16.8954 12 16 11.1046 16 10ZM2 16C0.895431 16 0 16.8954 0 18C0 19.1046 0.895431 20 2 20C3.10457 20 4 19.1046 4 18C4 16.8954 3.10457 16 2 16ZM8 18C8 16.8954 8.89543 16 10 16C11.1046 16 12 16.8954 12 18C12 19.1046 11.1046 20 10 20C8.89543 20 8 19.1046 8 18ZM18 16C16.8954 16 16 16.8954 16 18C16 19.1046 16.8954 20 18 20C19.1046 20 20 19.1046 20 18C20 16.8954 19.1046 16 18 16Z" fill="#3C3C3C"/>
        </svg>
      </button>
    </div>
    <div class="route-name">
      <span>{{routeName}}</span>
    </div>
    <div class="user__box">
        <button
          class="user__box-button active"
          @click="userMenuOpen = !userMenuOpen"
        >
          <span style="color: black">Menu</span>
          <svg width="27" height="15" viewBox="0 0 27 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="27" height="3" rx="1.5" fill="#3C3C3C"/>
            <rect y="6" width="27" height="3" rx="1.5" fill="#3C3C3C"/>
            <rect y="12" width="27" height="3" rx="1.5" fill="#3C3C3C"/>
          </svg>

        </button>

        <nav
          class="status-menu user__box-menu"
          v-if="userMenuOpen"
          @mouseleave="userMenuOpen = false"
        >
          <button @click.stop="toggleNotificationPanel">
            <svg width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11.4709 9.86554C10.5891 9.12021 10.0833 8.02988 10.0833 6.87567V5.25C10.0833 3.1973 8.5582 1.49792 6.58325 1.21359V0.583618C6.58325 0.260834 6.32156 0 5.99963 0C5.6777 0 5.41602 0.260834 5.41602 0.583618V1.21359C3.44022 1.49792 1.91602 3.1973 1.91602 5.25V6.87653C1.91602 8.03073 1.41016 9.12021 0.52298 9.87088C0.296326 10.0651 0.166016 10.3477 0.166016 10.6461C0.166016 11.2088 0.623596 11.6672 1.18713 11.6672H10.8121C11.3748 11.6672 11.8333 11.2097 11.8333 10.6461C11.8333 10.3477 11.7029 10.0651 11.4709 9.86554Z" fill="#3C3C3C"/>
              <path d="M6.00015 14C7.0563 14 7.94006 13.2474 8.14301 12.25H3.85645C4.06024 13.2474 4.944 14 6.00015 14Z" fill="#3C3C3C"/>
            </svg>
            <span>Notifications</span>
          </button>
          <button @click="toggleHistoryPanel">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.6637 0.644803C4.28721 0.634959 1.52175 3.25843 1.30382 6.5775H0.419741C0.0971122 6.5775 -0.104548 6.92676 0.0567802 7.20618L1.04143 8.91164L2.02608 10.6171C2.18741 10.8965 2.5907 10.8965 2.75203 10.6171L3.73667 8.91164L4.72132 7.20618C4.88265 6.92676 4.68099 6.5775 4.35836 6.5775H3.31025C3.52569 4.35018 5.4257 2.60819 7.71694 2.64546C10.0357 2.68317 11.932 4.55515 11.9981 6.87327C12.0683 9.33232 10.0883 11.3552 7.64481 11.3552C7.01817 11.3552 6.42208 11.222 5.88319 10.9827C5.41569 10.775 4.86693 10.9541 4.61116 11.3972C4.31489 11.9103 4.52549 12.5699 5.06698 12.8106C5.85483 13.1607 6.72707 13.3552 7.64481 13.3552C11.1502 13.3552 13.9928 10.5172 14 7.01346C14.0073 3.49408 11.1831 0.655084 7.6637 0.644803Z" fill="#3C3C3C"/>
            </svg>
            <span>History</span>
          </button>
          <button @click="toggleOrgSettings">
            <svg width="14" height="14" viewbox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.5763 5.61017L12.5932 5.44068C12.4746 4.98305 12.2881 4.54237 12.0508 4.13559L12.6271 3.32203C12.7797 3.11864 12.7627 2.83051 12.5763 2.66102L11.322 1.40678C11.1525 1.22034 10.8644 1.20339 10.661 1.35593L9.84746 1.9322C9.44068 1.71186 9 1.52542 8.55932 1.40678L8.38983 0.423729C8.35593 0.169492 8.13559 0 7.88136 0H6.11864C5.86441 0 5.64407 0.169492 5.61017 0.423729L5.44068 1.40678C4.98305 1.52542 4.54237 1.71186 4.13559 1.94915L3.32203 1.37288C3.11864 1.22034 2.83051 1.23729 2.66102 1.42373L1.40678 2.67797C1.22034 2.84746 1.20339 3.13559 1.35593 3.33898L1.9322 4.15254C1.71186 4.55932 1.52542 5 1.40678 5.44068L0.423729 5.61017C0.169492 5.64407 0 5.86441 0 6.11864V7.88136C0 8.13559 0.169492 8.35593 0.423729 8.38983L1.40678 8.55932C1.52542 9.01695 1.71186 9.45763 1.94915 9.86441L1.37288 10.678C1.22034 10.8814 1.23729 11.1695 1.42373 11.339L2.67797 12.5932C2.84746 12.7797 3.13559 12.7966 3.33898 12.6441L4.15254 12.0678C4.55932 12.2881 5 12.4746 5.44068 12.5932L5.61017 13.5763C5.64407 13.8305 5.86441 14 6.11864 14H7.88136C8.13559 14 8.35593 13.8305 8.38983 13.5763L8.55932 12.5932C9.01695 12.4746 9.45763 12.2881 9.86441 12.0508L10.678 12.6271C10.8814 12.7797 11.1695 12.7627 11.339 12.5763L12.5932 11.322C12.7797 11.1525 12.7966 10.8644 12.6441 10.661L12.0678 9.84746C12.2881 9.44068 12.4746 9 12.5932 8.55932L13.5763 8.38983C13.8305 8.35593 14 8.13559 14 7.88136V6.11864C14 5.86441 13.8305 5.64407 13.5763 5.61017ZM7 9.79661C5.45763 9.79661 4.20339 8.54237 4.20339 7C4.20339 5.45763 5.45763 4.20339 7 4.20339C8.54237 4.20339 9.79661 5.45763 9.79661 7C9.79661 8.54237 8.54237 9.79661 7 9.79661Z" fill="#3C3C3C"/>
            </svg>
            <span>Settings</span>
          </button>
          <button @click.stop="toggleIntegrationDialog">
            <svg width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11.4709 9.86554C10.5891 9.12021 10.0833 8.02988 10.0833 6.87567V5.25C10.0833 3.1973 8.5582 1.49792 6.58325 1.21359V0.583618C6.58325 0.260834 6.32156 0 5.99963 0C5.6777 0 5.41602 0.260834 5.41602 0.583618V1.21359C3.44022 1.49792 1.91602 3.1973 1.91602 5.25V6.87653C1.91602 8.03073 1.41016 9.12021 0.52298 9.87088C0.296326 10.0651 0.166016 10.3477 0.166016 10.6461C0.166016 11.2088 0.623596 11.6672 1.18713 11.6672H10.8121C11.3748 11.6672 11.8333 11.2097 11.8333 10.6461C11.8333 10.3477 11.7029 10.0651 11.4709 9.86554Z" fill="#3C3C3C"/>
              <path d="M6.00015 14C7.0563 14 7.94006 13.2474 8.14301 12.25H3.85645C4.06024 13.2474 4.944 14 6.00015 14Z" fill="#3C3C3C"/>
            </svg>
            <span>Integrations</span>
          </button>
          <button @click.stop="toggleBotDialog">
            <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z" fill="#3C3C3C"/>
              <path d="M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z" fill="#3C3C3C"/>
            </svg>
            <span>Bots</span>
          </button>
          <button @click="toggleScenarios">
            <icon-scenarions/>
            <span>Scenarios</span>
          </button>
          <button @click="toggleReports">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M2.07812 6.5625C2.40903 6.5625 2.70853 6.42973 2.92984 6.21654L4.14397 6.82355C4.13788 6.873 4.12891 6.9216 4.12891 6.97266C4.12891 7.65112 4.68091 8.20312 5.35938 8.20312C6.03784 8.20312 6.58984 7.65112 6.58984 6.97266C6.58984 6.78328 6.54327 6.60597 6.46648 6.44554L8.11351 4.79851C8.27394 4.87531 8.45125 4.92188 8.64062 4.92188C9.31909 4.92188 9.87109 4.36987 9.87109 3.69141C9.87109 3.56366 9.84599 3.44286 9.80968 3.32697L11.2407 2.25394C11.436 2.38435 11.67 2.46094 11.9219 2.46094C12.6003 2.46094 13.1523 1.90894 13.1523 1.23047C13.1523 0.552002 12.6003 0 11.9219 0C11.2434 0 10.6914 0.552002 10.6914 1.23047C10.6914 1.35822 10.7165 1.47902 10.7528 1.59491L9.32176 2.66794C9.12651 2.53752 8.89249 2.46094 8.64062 2.46094C7.96216 2.46094 7.41016 3.01294 7.41016 3.69141C7.41016 3.88078 7.45673 4.05809 7.53352 4.21852L5.88649 5.86555C5.72606 5.78876 5.54875 5.74219 5.35938 5.74219C5.02847 5.74219 4.72897 5.87495 4.50766 6.08815L3.29353 5.48114C3.29962 5.43169 3.30859 5.38309 3.30859 5.33203C3.30859 4.65356 2.75659 4.10156 2.07812 4.10156C1.39966 4.10156 0.847656 4.65356 0.847656 5.33203C0.847656 6.0105 1.39966 6.5625 2.07812 6.5625Z" fill="#3C3C3C"/>
              <path d="M13.5898 13.1797H13.1523V4.51172C13.1523 4.28506 12.9688 4.10156 12.7422 4.10156H11.1016C10.8749 4.10156 10.6914 4.28506 10.6914 4.51172V13.1797H9.87109V6.97266C9.87109 6.746 9.68759 6.5625 9.46094 6.5625H7.82031C7.59366 6.5625 7.41016 6.746 7.41016 6.97266V13.1797H6.58984V10.2539C6.58984 10.0273 6.40634 9.84375 6.17969 9.84375H4.53906C4.31241 9.84375 4.12891 10.0273 4.12891 10.2539V13.1797H3.30859V8.61328C3.30859 8.38663 3.12509 8.20312 2.89844 8.20312H1.25781C1.03116 8.20312 0.847656 8.38663 0.847656 8.61328V13.1797H0.410156C0.183502 13.1797 0 13.3632 0 13.5898C0 13.8165 0.183502 14 0.410156 14H13.5898C13.8165 14 14 13.8165 14 13.5898C14 13.3632 13.8165 13.1797 13.5898 13.1797Z" fill="#3C3C3C"/>
            </svg>
            <span>Reports</span>
          </button>
          <button @click="toggleStatusPage">
            <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053.918 3.995.78 5.323 1.508 7H.43c-2.128-5.697 4.165-8.83 7.394-5.857.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17c3.23-2.974 9.522.159 7.394 5.856h-1.078c.728-1.677.59-3.005.108-3.947C13.486.878 10.4.28 8.717 2.01L8 2.748ZM2.212 10h1.315C4.593 11.183 6.05 12.458 8 13.795c1.949-1.337 3.407-2.612 4.473-3.795h1.315c-1.265 1.566-3.14 3.25-5.788 5-2.648-1.75-4.523-3.434-5.788-5Zm8.252-6.686a.5.5 0 0 0-.945.049L7.921 8.956 6.464 5.314a.5.5 0 0 0-.88-.091L3.732 8H.5a.5.5 0 0 0 0 1H4a.5.5 0 0 0 .416-.223l1.473-2.209 1.647 4.118a.5.5 0 0 0 .945-.049l1.598-5.593 1.457 3.642A.5.5 0 0 0 12 9h3.5a.5.5 0 0 0 0-1h-3.162l-1.874-4.686Z" fill="#3C3C3C"/>
            </svg>
            <span>Status Page</span>
          </button>
          <button @click="logout">
            <svg width="14" height="14" viewbox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8.74991 7.58348C8.42734 7.58348 8.16662 7.84484 8.16662 8.16677V10.5002C8.16662 10.8215 7.90525 11.0834 7.58322 11.0834H5.83324V2.33352C5.83324 1.83536 5.5159 1.39028 5.03878 1.22461L4.86607 1.16683H7.58322C7.90525 1.16683 8.16662 1.42873 8.16662 1.75023V3.50022C8.16662 3.82214 8.42734 4.08351 8.74991 4.08351C9.07248 4.08351 9.3332 3.82214 9.3332 3.50022V1.75023C9.3332 0.785409 8.54804 0.000244141 7.58322 0.000244141H1.31249C1.29027 0.000244141 1.27168 0.0101775 1.25011 0.0130614C1.22202 0.0107116 1.19521 0.000244141 1.16669 0.000244141C0.523264 0.000244141 0 0.523403 0 1.16683V11.6667C0 12.1649 0.317334 12.61 0.794456 12.7757L4.30499 13.9459C4.42398 13.9826 4.54233 14.0001 4.66665 14.0001C5.31008 14.0001 5.83324 13.4769 5.83324 12.8334V12.2501H7.58322C8.54804 12.2501 9.3332 11.465 9.3332 10.5002V8.16677C9.3332 7.84484 9.07248 7.58348 8.74991 7.58348Z" fill="#3C3C3C"/>
              <path d="M13.2457 5.42103L10.9124 3.08776C10.7456 2.92092 10.4947 2.87072 10.2766 2.96108C10.059 3.05155 9.91667 3.26442 9.91667 3.50016V5.25014H7.5834C7.26136 5.25014 7 5.5114 7 5.83343C7 6.15546 7.26136 6.41672 7.5834 6.41672H9.91667V8.1667C9.91667 8.40243 10.059 8.61531 10.2766 8.70578C10.4947 8.79614 10.7456 8.74594 10.9124 8.5792L13.2457 6.24582C13.4738 6.01778 13.4738 5.64907 13.2457 5.42103Z" fill="#3C3C3C"/>
            </svg>
            Logout
          </button>
<!--          TODO Delete before go to production-->
<!--          <button @click="printSettings">-->
<!--            <span>Print settings</span>-->
<!--          </button>-->
          <span class="ui-version">Version: {{ uiVersion }}</span>
        </nav>
      </div>
  </div>
</template>

<script>
import { AUTH_LOGOUT } from '@/store/actions/auth'
import {
  DISABLE_HISTORY_MODE,
  ENABLE_HISTORY_MODE,
  UPDATE_SHOW_SIDEBAR,
  UPDATE_USER_COLUMNS_WIDTH_FILTER
} from '@/store/actions/config'
import { SHOW_BOTS, SHOW_INTEGRATIONS, SHOW_SETTINGS } from '@/store/actions/localActions'
import iconScenarions from '@/components/icons/iconScenarions'
import store from '@/store/index'
// import DestTypeIconEmail from '@/components/icons/destTypeIconEmail'

export default {
  components: { iconScenarions },
  props: [],
  data () {
    return {
      // username: store.state.user.profile.username,
      userMenuOpen: false,
      showNavSideBar: false,
      logoColor: '#FFFFFFFF',
      routeNames: [
        'Scenarios',
        'Scenario Edit',
        'Reports'
      ]
    }
  },
  computed: {
    username () {
      return store.state.user.profile.username
    },
    showSideBar () {
      return this.$store.state.config.showSideBar
    },
    globalBlur () {
      return this.$store.getters.blurMainLayout
    },
    routeName () {
      if (this.routeNames.includes(this.$route.name)) {
        return this.$route.name
      } else {
        if (this.$route.name === 'Notifications') {
          if (this.$route.query.history) {
            return 'Notifications History'
          }
        }
      }
      return this.$route.name
    }
  },
  watch: {
    $route (to, from) {
      // console.log('NavBar. watch. $route:', this.$route.name)
      this.showNavSideBar = this.$route.name === 'Notifications' || this.$route.name === 'Reports'
    }
  },
  beforeMount () {
    this.parseRoute()
  },
  methods: {
    parseRoute () {
      console.log('NavBar. parseRoute. $route:', this.$route.name)
      if (this.$route.name === 'Notifications' || this.$route.name === 'Reports') {
        this.showNavSideBar = true
      }
    },
    logout () {
      console.log('Login. logout ...')
      this.$store.dispatch(AUTH_LOGOUT)
        .then(() => {
          this.$router.push('/login?message=logoutfromlogin')
        })
    },
    sideBarClick () {
      this.$store.commit(UPDATE_SHOW_SIDEBAR)
      setTimeout(() => {
        this.$store.commit(UPDATE_USER_COLUMNS_WIDTH_FILTER)
      }, 50)
      this.$emit('onSideBarClick')
    },
    toggleNotificationPanel () {
      this.$store.commit(DISABLE_HISTORY_MODE)
      this.$router.push({ name: 'Notifications' })
    },
    toggleHistoryPanel () {
      this.$store.commit(ENABLE_HISTORY_MODE)
      this.$router.push({ name: 'Notifications', query: { history: 'true' } })
    },
    toggleOrgSettings () {
      this.$store.commit(SHOW_SETTINGS)
      this.$router.push({ name: 'Notifications' })
    },
    toggleIntegrationDialog () {
      this.$store.commit(SHOW_INTEGRATIONS)
    },
    toggleBotDialog () {
      this.$store.commit(SHOW_BOTS)
      this.$router.push({ name: 'Notifications' })
    },
    toggleScenarios () {
      this.$router.push({ name: 'Scenarios' })
    },
    toggleReports () {
      this.$router.push({ name: 'Reports' })
    },
    toggleStatusPage () {
      this.$router.push({ name: 'StatusPage' })
    }
  }
}

</script>

<style scoped>
.header-side-bar {
  height: 60px;
  width: 320px;
  padding: 0;
  margin: 0;
  border-radius: 0;

}
.user__box button {
  text-decoration: none;
}
.backdrop-header {
  position: absolute;
  width: 100%;
  height: 70px;
  /*background-color: black;*/
  /*opacity: 30%;*/
  backdrop-filter: blur(2px) brightness(70%);
  -webkit-backdrop-filter: blur(2px) brightness(70%);
  z-index: 2;
}
.harp-logo {
  height: 60px;
  margin-top: 8px;
  margin-left: 20px
}

.route-name {
  margin-left: 20px;
}

.route-name span {
  font-size: 16px;
  font-weight: bold;
}
.ui-version {
  padding-left: 37px;
  font-size: 11px;
}
</style>
